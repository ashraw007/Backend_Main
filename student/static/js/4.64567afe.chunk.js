(this["webpackJsonpstd-login"]=this["webpackJsonpstd-login"]||[]).push([[4],{221:function(e,t,a){e.exports={Avatar:"Lists_Avatar__25lRe",Name:"Lists_Name__32otQ"}},222:function(e,t,a){e.exports={root:"App_root__2h8Pp",menuButton:"App_menuButton__TrVgj",appBarSettings:"App_appBarSettings__a15Un",appBarIconSettings:"App_appBarIconSettings__2dwNG",appBarColor:"App_appBarColor___Nwx3",paper:"App_paper__2teEr"}},227:function(e,t,a){e.exports={LateFee:"lateFee_LateFee__2ynhS"}},228:function(e,t,a){e.exports={Layout:"previousreceipt_Layout__3MSwf"}},229:function(e,t,a){e.exports={root:"Receipt_root__1a5iC",boxColor:"Receipt_boxColor__3_5Eq",boxExpanded:"Receipt_boxExpanded__ejbTC",heading:"Receipt_heading__264AD",secondaryHeading:"Receipt_secondaryHeading__1tZF_",row:"Receipt_row__1NGwe",display:"Receipt_display__2v3hM",paper:"Receipt_paper__BfUui",lowerColumn:"Receipt_lowerColumn__2NwId",Buttons:"Receipt_Buttons__2iYUC",padded:"Receipt_padded__Xl6Vs"}},230:function(e,t,a){e.exports={Modal:"ChangeSubject_Modal__2PoOf",Subjects:"ChangeSubject_Subjects__2u90u",Buttons:"ChangeSubject_Buttons__2A5uQ",Button:"ChangeSubject_Button__2SSox"}},231:function(e,t,a){e.exports={root:"Receipts_root__najDq",display:"Receipts_display__389_j"}},232:function(e,t,a){e.exports={Layout:"notices_Layout__3AQ5D",Notices:"notices_Notices__2PCnw",Accordion:"notices_Accordion__3rybT"}},260:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(22),r=a(23),c=a(25),o=a(24),i=a(0),l=a.n(i),d=a(100),u=a(249),j=a(250),p=a(191),b=a(215),h=a.n(b),m=a(248),x=a(213),f=a.n(x),O=a(265),g=function(e){var t=Object(d.a)((function(t){return{root:{display:"flex","& > *":{margin:t.spacing(1)}},large:{width:t.spacing(10),height:t.spacing(10),color:"white",background:"black"},center:{display:"flex",justifyContent:"center",margin:e.margin},edit:{color:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ICON_COLOR,margin:"15vh 0"}}}))(),a=Object(n.jsx)(O.a,{className:t.large,children:Object(n.jsx)(f.a,{className:[t.large,t.edit]})});return localStorage.getItem("image")&&(a=Object(n.jsx)(O.a,{className:t.large,src:localStorage.getItem("image")})),Object(n.jsx)("div",{className:t.center,children:a})},v=function(e){var t=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},appBarSettings:{height:"12vh",justifyContent:"space-between"},appBarIconSettings:{fontSize:"7vh",color:"black"},appBarColor:{background:"white"},ProfileImage:{borderRadius:"50%",width:"40%",right:"2%"},fixImage:{display:"flex",justifyContent:"flex-end"}}}))(),a=Object(n.jsx)(p.a,{children:Object(n.jsx)(m.a,{className:t.appBarIconSettings})}),s="null"!==localStorage.getItem("image")?Object(n.jsx)(g,{}):a;return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(u.a,{className:t.appBarColor,position:"static",children:Object(n.jsxs)(j.a,{className:t.appBarSettings,children:[Object(n.jsx)(p.a,{onClick:e.drawerOpenhandler,edge:"start",className:t.menuButton,"aria-label":"Burger Menu",children:Object(n.jsx)(h.a,{className:t.appBarIconSettings})}),Object(n.jsx)("div",{className:t.fixImage,children:s})]})})})},y=a(263),_=a(190),S=a(251),w=a(252),C=a(253),k=a(216),F=a.n(k),N=a(217),D=a.n(N),B=a(218),E=a.n(B),M=a(219),R=a.n(M),L=a(220),I=a.n(L),T=a(26),A=function(e){var t;t="HomeIcon"===e.icon?Object(n.jsx)(F.a,{}):"AssignmentIcon"===e.icon?Object(n.jsx)(D.a,{}):"ReceiptIcon"===e.icon?Object(n.jsx)(E.a,{}):"ExitToAppIcon"===e.icon?Object(n.jsx)(R.a,{}):"Notices"===e.icon?Object(n.jsx)(I.a,{}):null;var a=Object(d.a)((function(e){return{Color:{color:"black"},Link:{textDecoration:"none"}}}))();return Object(n.jsx)(T.b,{to:"".concat(e.link),activeClassName:a.Link,className:a.Link,children:Object(n.jsxs)(S.a,{button:!0,children:[Object(n.jsx)(w.a,{className:a.Color,children:t}),Object(n.jsx)(C.a,{className:a.Color,primary:e.name})]})})},P=a(221),H=a.n(P),Y=a(69),W=a.n(Y),U=[{label:"Home",icon:"HomeIcon",link:"/home"},{label:"Back Exam Pay",icon:"AssignmentIcon",link:"/backExam-Pay"},{label:"Previous Receipt",icon:"ReceiptIcon",link:"/previous-receipt"},{label:"Notices",icon:"Notices",link:"/notices"},{label:"Logout",icon:"ExitToAppIcon",link:"/logout"}],z=function(e){return Object(n.jsxs)("div",{style:{margin:"4%"},children:[e.children,Object(n.jsx)(g,{}),Object(n.jsxs)("div",{className:H.a.Name,children:[Object(n.jsx)("h3",{children:"Welcome"}),Object(n.jsx)("h3",{children:W.a.get("name").replace("%20"," ")})]}),Object(n.jsxs)(_.a,{children:[Object(n.jsx)(A,{}),U.map((function(e){return Object(n.jsx)(A,{name:e.label,icon:e.icon,link:e.link},e.label)}))]})]})},q=Object(d.a)({paper:{color:"black !important",minWidth:"15%"}}),K=function(e){var t=q();return Object(n.jsx)(l.a.Fragment,{children:Object(n.jsx)(y.a,{anchor:"left",open:e.DrawerOpen,onClose:e.drawerCloseHandler,classes:{paper:t.paper},children:Object(n.jsx)(z,{})})})},V=a(222),G=a.n(V),J=a(233),Q=a(33),$=a(40),X=a(145),Z=a(195),ee=a(261),te=function(e){var t=Object(d.a)({root:{width:"100%",display:"flex",justifyContent:"flex-start"},fee:{padding:"1% 1.6%",display:"flex",width:"100%",flexWrap:"wrap",justifyContent:"space-between"}})();return Object(n.jsx)(ee.a,{className:t.root,children:Object(n.jsxs)(Z.a,{classes:{root:t.fee},children:[Object(n.jsxs)(X.a,{variant:"h6",children:["Semester ",e.semester," Exam Fee"]}),Object(n.jsxs)(X.a,{variant:"h6",children:["\u20b9 ",e.semesterFee||0]})]})})},ae=a(194),ne=a(210),se=a.n(ne),re=a(264),ce=a(254),oe=a(255),ie=function(e){var t=Object(d.a)((function(e){return{root:{},color:{backgroundColor:"lightgreen"},heading:{width:"100%",display:"flex",justifyContent:"space-between"}}}))();return Object(n.jsx)(ae.a,{className:t.root,variant:"outlined",children:Object(n.jsx)(ee.a,{border:2,borderLeft:0,borderRight:0,children:Object(n.jsxs)(Z.a,{children:[Object(n.jsxs)("div",{className:t.heading,children:[Object(n.jsx)(X.a,{variant:"h6",gutterBottom:!0,children:e.heading}),Object(n.jsxs)(X.a,{variant:"h6",gutterBottom:!0,children:["\u20b9 ",e.price||0]})]}),Object(n.jsx)(ee.a,{children:Object(n.jsxs)(re.a,{className:t.color,children:[Object(n.jsx)(ce.a,{expandIcon:Object(n.jsx)(se.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(X.a,{className:t.heading,children:"Select Subjects from drop-down"})}),Object(n.jsx)(oe.a,{children:Object(n.jsx)(X.a,{variant:"h5",gutterBottom:!0,children:e.children})})]})})]})})})},le=a(262),de=a(256),ue=function(e){return Object(n.jsx)(l.a.Fragment,{children:Object(n.jsx)(de.a,{control:Object(n.jsx)(le.a,{checked:e.value,id:"".concat(e.semester),label:e.sub,name:e.sub,onChange:function(t,a){return e.handleChange(t,e.semester)},color:"primary"}),label:e.sub})})},je=function(e){var t=e.subjects,a=[];return e.subjects.length&&(a=t.map((function(t){return t.subjects.map((function(a){return Object(n.jsx)(ue,{value:a.checked,sub:a.name,semester:t.semester,handleChange:e.handleChange},a.name)}))}))),Object(n.jsx)(ie,{heading:"Back Exam Fee",price:e.price,children:a})},pe=a(223),be=a.n(pe),he=a(225),me=a(77),xe=a(257),fe=a(144),Oe=a(38),ge=a(39),ve=a.p+"static/media/gtbpilogo.6ae11af0.png",ye=function(e){var t=l.a.useState(!1),a=Object(me.a)(t,2),s=a[0],r=a[1],c=l.a.useState(""),o=Object(me.a)(c,2),i=o[0],u=o[1],j=l.a.useState(!1),p=Object(me.a)(j,2),b=p[0],h=p[1],m=l.a.useState(""),x=Object(me.a)(m,2),f=x[0],O=x[1],g=function(e){h(b=!0),O(f=e),setTimeout((function(){r(b=!1),u(f="")}),3e3)},v=function(e){r(s=!0),u(i=e),setTimeout((function(){r(s=!1),u(i="")}),1e4)};function y(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))}function _(){return(_=Object(he.a)(be.a.mark((function t(){var a,n,s,r,c,o,i,l,d,u,j;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("https://checkout.razorpay.com/v1/checkout.js");case 2:if(t.sent){t.next=6;break}return v("Razorpay SDK failed to load. Are you online?"),t.abrupt("return");case 6:return a={},e.semester&&(a.semester=e.semester),e.selectedSubjects&&(a.subjects=e.selectedSubjects),t.next=11,Oe.a.post("/api/student/fee/pay",a,{withCredentials:!0}).then().catch((function(e){v(e.errorMessage)}));case 11:if(n=t.sent){t.next=15;break}return v("Server error. Are you online?"),t.abrupt("return");case 15:if(s=n.data.savedReceipt,r=s.amount,c=s.orderID,o=s.currency,i=s.notes,void 0!==c){t.next=19;break}return v("Payment cant be proceded further ! Please dont make any transaction and contact collage ASAP ! any payment maid after this alert, collage would not be responsible "),t.abrupt("return");case 19:l=n.data.student,d="From ".concat(l.name,",").concat(l.rollNumber," For ").concat(c," "),u={key:"rzp_test_KOeC3sklK4ToCl",amount:r.toString(),currency:o,name:l.name,description:d,image:{Logo:ve},order_id:c,handler:function(){var e=Object(he.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={order_id:t.razorpay_order_id,success:{razorpay_signature:t.razorpay_signature,razorpay_payment_id:t.razorpay_payment_id}},e.next=3,Oe.a.post("/api/student/fee/validate",a,{withCredentials:!0}).then((function(e){e.data.isSuccess&&g("Payment went successfull !")})).catch((function(e){v(e.errorMessage)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:l.name,email:l.email,contact:l.phoneNumber},theme:{color:"#11b7a2"},notes:i},(j=new window.Razorpay(u)).open(),j.on("payment.failed",function(){var e=Object(he.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={order_id:t.error.metadata.order_id,error:{code:t.error.code,decription:t.error.description,source:t.error.source,reason:t.error.reason,payment_id:t.error.metadata.payment_id}},e.next=3,Oe.a.post("/api/student/fee/validate",a,{withCredentials:!0}).then((function(e){e.data.isSuccess&&g("Payment Failed !")})).catch((function(e){v(e.errorMessage)}));case 3:case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S=Object(d.a)({root:{width:"100%"},padding:{display:"flex",justifyContent:"space-between",padding:"1% 1.6%"}})();return Object(n.jsxs)(ae.a,{className:S.root,children:[Object(n.jsxs)(Z.a,{className:S.padding,children:[Object(n.jsx)(X.a,{variant:"h6",gutterBottom:!0,children:"To Be Paid"}),Object(n.jsxs)(X.a,{variant:"h6",gutterBottom:!0,children:["\u20b9 ",e.normalFee+e.backFee+e.lateFee]})]}),Object(n.jsx)(xe.a,{style:{justifyContent:"center"},children:Object(n.jsx)(fe.a,{style:{backgroundColor:"#475BE3",borderRadius:8,padding:"1% 3%",color:"white",margin:"1% 0% 2% 0%"},variant:"contained",onClick:function(){return _.apply(this,arguments)},children:Object(n.jsx)(X.a,{variant:"h5",children:"Pay Now"})})}),!0===s?Object(n.jsx)(ge.a,{message:i,type:"error",time:1e4}):null,!0===b?Object(n.jsx)(ge.a,{message:f,type:"success"}):null]})},_e=a(211),Se=a.n(_e),we=a(227),Ce=a.n(we),ke=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.lateFee,t="No late Fees",a=Se.a.utc(new Date(this.props.minLateFeeDate).getTime()).toDate(),s=Se.a.utc(new Date(this.props.maxLateFeeDate).getTime()).toDate();return e===this.props.minLateFee?t="Last date to pay was ".concat(Se()(a).local().format("DD-MM-YYYY")):e===this.props.maxLateFee&&(t="Last date Exceeded, last date to pay was ".concat(Se()(s).local().format("DD-MM-YYYY"))),Object(n.jsxs)("div",{className:Ce.a.LateFee,children:[Object(n.jsx)(X.a,{variant:"h6",children:t}),Object(n.jsxs)(X.a,{variant:"h6",children:["\u20b9",e]})]})}}]),a}(i.Component),Fe=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={student:{},subjects:{},fees:{},contentFailed:!1,selectedSubjects:[],examFee:0,backExamFee:0,lateFee:0,errorMessage:""},e.handleSubjectChange=function(t,a){a=parseInt(a);var n=e.state.subjects.find((function(e){return e.semester===a})),s=Object(Q.a)(Object(Q.a)({},n),{},{subjects:Object(J.a)(n.subjects)});s.subjects.forEach((function(e){e.name===t.target.name&&(e.checked=t.target.checked)}));var r=0;e.state.subjects.forEach((function(t){var a=0;t.subjects.forEach((function(e){!0===e.checked&&(a+=1)})),r+=a>3?e.state.fees.maxPerSemesterFee:a*e.state.fees.backExamFee}));var c=Object(Q.a)({},e.state.subjects),o=[];for(var i in c)c[i].semester===s.semester?(c[i]=s,o.push(c[i])):o.push(c[i]);var l=[];o.forEach((function(e,t){var a=e.subjects.map((function(e){if(!0===e.checked)return e.name})).filter((function(e){return e}));if(a.length>0){var n={};n.semester=o[t].semester,n.subjects=a,l.push(n)}})),e.setState({backExamFee:r,selectedSubjects:l})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){if(!0===this.props.isBack)this.state.examFee>0&&this.setState({examFee:0});else if(0===this.state.examFee){if(!0===this.state.student.hasPaid)return 0;this.setState({examFee:this.state.fees.normalFee})}}},{key:"componentDidMount",value:function(){var e=this,t=this.state.student&&0===Object.keys(this.state.student).length&&this.state.student.constructor===Object,a=this.state.subjects&&0===Object.keys(this.state.subjects).length&&this.state.subjects.constructor===Object,n=this.state.fees&&0===Object.keys(this.state.fees).length&&this.state.fees.constructor===Object;t&&a&&n&&Oe.a.get("/api/student/get/",{withCredentials:!0}).then((function(t){t.data.subjects.forEach((function(e,a){var n=[];e.subjects.forEach((function(e){n.push({checked:!1,name:e})})),t.data.subjects[a].subjects=n}));var a=!0===t.data.student.hasPaid?0:t.data.fees.normalFee;e.props.isBack&&(a=0);var n=Date.now(),s=new Date(t.data.fees.maxLateFeeDate).getTime(),r=new Date(t.data.fees.minLateFeeDate).getTime(),c=n>=s?t.data.fees.maxLateFee:n>=r?t.data.fees.minLateFee:0;e.setState({student:t.data.student,subjects:t.data.subjects,fees:t.data.fees,examFee:a,lateFee:c})})).catch((function(t){e.setState({contentFailed:!0,errorMessage:t.errorMessage}),setTimeout((function(){e.setState({contentFailed:!1,errorMessage:""})}),3200)}))}},{key:"render",value:function(){var e=!0===this.props.isBack?"Pay Back Exam":"Pay Semester Fee",t=this.props.isBack||!0===this.state.student.hasPaid?null:Object(n.jsx)(te,{semester:this.state.student.currentSemester,semesterFee:this.state.fees.normalFee}),a=this.props.isBack?null:this.state.student.currentSemester;return Object(n.jsxs)($.a,{children:[Object(n.jsx)(X.a,{align:"center",variant:"h4",children:e}),t,Object(n.jsx)(je,{subjects:this.state.subjects||[],handleChange:this.handleSubjectChange,price:this.state.backExamFee}),Object(n.jsx)(ee.a,{border:2,borderTop:0,borderRight:0,borderLeft:0,children:Object(n.jsx)(ke,{minLateFeeDate:this.state.fees.minLateFeeDate,maxLateFeeDate:this.state.fees.maxLateFeeDate,minLateFee:this.state.fees.minLateFee,maxLateFee:this.state.fees.maxLateFee,lateFee:this.state.lateFee})}),Object(n.jsx)(ye,{normalFee:this.state.examFee||0,backFee:this.state.backExamFee||0,lateFee:this.state.lateFee||0,semester:a,selectedSubjects:this.state.selectedSubjects}),this.state.contentFailed?Object(n.jsx)(ge.a,{message:this.state.errorMessage,type:"warning"}):null]})}}]),a}(i.Component),Ne=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){Oe.a.delete("/api/student/auth/logout",{withCredentials:!0}).then((function(e){window.location.href="/"})).catch((function(e){console.log(e)}))},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{})}}]),a}(i.Component),De=a(228),Be=a.n(De),Ee=a(229),Me=a.n(Ee),Re=a(197),Le=a(188),Ie=a(196),Te=a(200),Ae=a(258),Pe=a(230),He=a.n(Pe),Ye=Object(d.a)((function(e){return{formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},to:{margin:"1% 0%"}}})),We=function(e){var t=Ye(),a=l.a.useState(""),s=Object(me.a)(a,2),r=s[0],c=s[1],o=l.a.useState(""),i=Object(me.a)(o,2),d=i[0],u=i[1],j=l.a.useState({showModal:!1,message:"",type:""}),p=Object(me.a)(j,2),b=p[0],h=p[1],m=function(e,t){h({showModal:!0,message:e,type:t}),setTimeout((function(){h({showModal:!1,message:"",type:""})}),3200)},x=[];e.availableSubjects.forEach((function(e){e.subjects.map((function(e){return x.push(e)}))}));return Object(n.jsxs)("div",{className:He.a.Modal,children:[Object(n.jsxs)($.a,{extraStyles:{padding:"2%"},children:[Object(n.jsx)(X.a,{variant:"h3",align:"center",children:"Change Subjects"}),Object(n.jsxs)("div",{className:He.a.Subjects,children:[Object(n.jsxs)(Le.a,{variant:"outlined",className:t.formControl,children:[Object(n.jsx)(Te.a,{id:"demo-simple-select-outlined-label",children:"Subject From"}),Object(n.jsxs)(Ie.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",fullWidth:!0,required:!0,value:r,onChange:function(e){c(e.target.value)},label:"Subject From",children:[Object(n.jsx)(Ae.a,{value:"",children:Object(n.jsx)("em",{children:"None"})}),e.backExams.map((function(e){return Object(n.jsx)(Ae.a,{value:e,children:e},e)}))]})]}),Object(n.jsx)(X.a,{variant:"h6",align:"center",className:t.to,children:"TO"}),Object(n.jsxs)(Le.a,{variant:"outlined",className:t.formControl,children:[Object(n.jsx)(Te.a,{id:"demo-simple-select-outlined-label",children:"Subject To"}),Object(n.jsxs)(Ie.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",fullWidth:!0,value:d,required:!0,onChange:function(e){u(e.target.value)},label:"Subject To",children:[Object(n.jsx)(Ae.a,{value:"",children:Object(n.jsx)("em",{children:"None"})}),x.map((function(e){return Object(n.jsx)(Ae.a,{value:e,children:Object(n.jsx)("em",{children:e})},e)}))]})]})]}),Object(n.jsxs)("div",{className:He.a.Buttons,children:[Object(n.jsx)(fe.a,{fullWidth:!0,className:He.a.Button,onClick:function(){if(""===r||""===d)return 0;Oe.a.post("/api/student/request/",{receiptID:e.receipt,subjectFrom:r,subjectTo:d},{withCredentials:!0}).then((function(e){!0===e.data.isSuccess&&m("Request received !","success")})).catch((function(e){m(e.errorMessage,"error")}))},children:"Request Change"}),Object(n.jsx)(fe.a,{fullWidth:!0,className:He.a.Button,onClick:e.close,children:"Close"})]})]}),!0===b.showModal?Object(n.jsx)(ge.a,{message:b.message,type:b.type}):null]})},Ue=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={modalState:!1,error:!1},e.openModal=function(){e.setState({modalState:!0})},e.closeModal=function(){e.setState({modalState:!1})},e.download=function(t){Oe.a.post("/api/student/fee/generate",{receiptID:e.props.receiptID},{withCredentials:!0,responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","receipt.pdf"),document.body.appendChild(a),a.click()})).catch((function(t){e.setState({error:!0,errorMessage:"Cant generate receipt PDF !"}),setTimeout((function(){e.setState({error:!1,errorMessage:""})}),3200)}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=Se.a.utc(new Date(this.props.date).getTime()).toDate();t=Se()(t).local().format("DD-MM-YYYY");var a="",s=[],r=[];this.props.notes.forEach((function(t){if(t.includes("for Semester :"))a=e.props.notes.length>1?" ".concat(t," and Back Exams"):"".concat(t);else if(t.includes("for back semester :")&&1===e.props.notes.length){a="For back exam only";var c=t.split("and"),o=c[1].split(",");o.forEach((function(e){r.push(e.replace("subjects : ",""))})),o=o.map((function(e){return Object(n.jsx)(X.a,{children:e})}));var i=Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:c[0]}),o]});s.push(i)}else if(t.includes("for back semester :")){var l=t.split("and"),d=l[1].split(",");d=d.map((function(e){return Object(n.jsx)(X.a,{children:e})}));var u=Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:l[0]}),d]});r.push(l[1].replace("subjects : ","")),s.push(u)}}));var c=Object(n.jsx)(We,{receipt:this.props.receiptID,close:this.closeModal,backExams:r,availableSubjects:this.props.subjects});return Object(n.jsxs)(re.a,{children:[Object(n.jsx)(ee.a,{className:Me.a.boxColor,marginTop:"20px",children:Object(n.jsx)(ce.a,{expandIcon:Object(n.jsx)(se.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",classes:{content:Me.a.display},children:Object(n.jsxs)("div",{className:Me.a.row,children:[Object(n.jsxs)(X.a,{className:Me.a.heading,children:["For Semester: ",this.props.semester]}),Object(n.jsxs)(X.a,{className:Me.a.heading,children:["ID: ",this.props.receiptID]}),Object(n.jsxs)(X.a,{className:Me.a.heading,children:["Dated: ",t]})]})})}),Object(n.jsx)(ee.a,{className:Me.a.boxExpanded,children:Object(n.jsxs)(oe.a,{style:{display:"flex",flexDirection:"column",flexWrap:"wrap"},children:[Object(n.jsxs)("div",{className:Me.a.lowerColumn,children:[Object(n.jsxs)("div",{className:Me.a.padded,children:[Object(n.jsx)(X.a,{children:a}),Object(n.jsxs)(X.a,{children:["amount: Rs. ",this.props.amount/100," "]}),Object(n.jsxs)(X.a,{children:["Valid: ",!0===this.props.isValid?"Yes":"No"]})]}),Object(n.jsxs)("div",{className:Me.a.padded,children:[Object(n.jsx)(X.a,{children:"Selected Back Exams:"}),s]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:Me.a.Buttons,children:[Object(n.jsx)(fe.a,{id:this.props.receiptID,style:{boderRadius:10,margin:"10px"},variant:"contained",color:"secondary",onClick:function(t){e.download(t)},children:"DOWNLOAD RECEIPT"}),Object(n.jsx)(fe.a,{style:{boderRadius:10,margin:"10px"},variant:"contained",color:"secondary",onClick:this.openModal,children:"CHANGE SUBJECT"})]})]})}),Object(n.jsx)(Re.a,{open:this.state.modalState,onClose:this.closeModal,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:c}),!0===this.state.error?Object(n.jsx)(ge.a,{message:this.state.errorMessage,type:"error"}):null]})}}]),a}(l.a.Component),ze=a(231),qe=a.n(ze),Ke=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:qe.a.root,children:this.props.receiptData.map((function(t){return Object(n.jsx)(Ue,Object(Q.a)(Object(Q.a)({},t),{},{subjects:e.props.allowedSubjects}),t.receiptID)}))})}}]),a}(l.a.Component),Ve=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={receiptData:[],allowedSubjects:[],contentFailed:!1,errorMessage:""},e.componentDidMount=function(){0===e.state.receiptData.length&&Oe.a.get("/api/student/fee/getAll",{withCredentials:!0}).then((function(t){return e.setState({receiptData:t.data.receipts,allowedSubjects:t.data.subjects})})).catch((function(t){e.setState({contentFailed:!0,errorMessage:t.errorMessage}),setTimeout((function(){e.setState({contentFailed:!1,errorMessage:""})}),3200)}))},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:Be.a.Layout,children:[Object(n.jsxs)($.a,{children:[Object(n.jsx)(X.a,{variant:"h2",align:"center",gutterBottom:!0,children:"Receipts"}),Object(n.jsx)(Ke,{receiptData:this.state.receiptData,allowedSubjects:this.state.allowedSubjects})]}),!0===this.state.contentFailed?Object(n.jsx)(ge.a,{message:this.state.errorMessage,type:"warning"}):null]})}}]),a}(i.Component),Ge=a(232),Je=a.n(Ge),Qe=a(5),$e=Object(Qe.a)((function(e){return{root:{border:"1px solid rgba(0, 0, 0, .125)",backgroundColor:"#475be3",color:"white",margin:"1% 0",borderRadius:"20px",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}}}))(re.a),Xe=Object(Qe.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(ce.a),Ze=Object(Qe.a)((function(e){return{root:{padding:e.spacing(2),backgroundColor:"white",color:"black",borderRadius:"20px",borderTopLeftRadius:0,borderTopRightRadius:0,border:"1px solid black",borderTop:"0"}}}))(oe.a),et=function(e){var t,a=l.a.useState(e.panel),s=Object(me.a)(a,2),r=s[0],c=s[1];return Object(n.jsx)("div",{children:Object(n.jsxs)($e,{square:!0,expanded:r==="panel".concat(e.panel),onChange:(t="panel".concat(e.panel),function(e,a){c(!!a&&t)}),children:[Object(n.jsx)(Xe,{"aria-controls":"panel".concat(e.panel,"d-content"),id:"panel".concat(e.panel,"d-header"),children:Object(n.jsx)(X.a,{children:e.heading})}),Object(n.jsx)(Ze,{children:Object(n.jsx)(X.a,{children:e.description})})]})})},tt=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={notices:[],contentFailed:!1,errorMessage:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.state.notices.length&&Oe.a.get("/api/student/get/notices",{withCredentials:!0}).then((function(t){e.setState({notices:t.data.notices})})).catch((function(t){e.setState({contentFailed:!0,errorMessage:t.errorMessage}),setTimeout((function(){e.setState({contentFailed:!1,errorMessage:""})}),3200)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:Je.a.Layout,children:[Object(n.jsxs)($.a,{extraStyles:{padding:"1%"},children:[Object(n.jsx)(X.a,{align:"center",variant:"h2",children:"Notices"}),Object(n.jsx)("div",{className:Je.a.Notices,children:this.state.notices.map((function(e,t){var a=""===e.title?"Empty Notice":e.title,s=""===e.desc?"Empty Description":e.desc;return Object(n.jsx)("div",{className:Je.a.Accordion,children:Object(n.jsx)(et,{panel:t,heading:a,description:s})},t)}))})]}),!0===this.state.contentFailed?Object(n.jsx)(ge.a,{message:this.state.errorMessage,type:"warning"}):null]})}}]),a}(i.Component),at=a(11),nt=a(94),st=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isDrawerOpen:!1,imageChanged:!1},e.onDrawerOpenHandler=function(){e.setState({isDrawerOpen:!0})},e.onDrawerCloseHandler=function(){e.setState({isDrawerOpen:!1})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){if(!localStorage.getItem("image")||"null"===localStorage.getItem("image")){var e=prompt("Enter Url for profile picture (optional)","Some-Image-Url");"Some-Image-Url"!==e&&(localStorage.setItem("image",e),this.setState({imageChanged:!0}))}}},{key:"render",value:function(){var e=Object(n.jsxs)(at.d,{children:[Object(n.jsx)(at.b,{exact:!0,path:"/",component:Fe}),Object(n.jsx)(at.b,{exact:!0,path:"/home",component:Fe}),Object(n.jsx)(at.b,{exact:!0,path:"/backExam-Pay",render:function(e){return Object(n.jsx)(Fe,{isBack:!0})}}),Object(n.jsx)(at.b,{exact:!0,path:"/previous-receipt",component:Ve}),Object(n.jsx)(at.b,{exact:!0,path:"/notices",component:tt}),Object(n.jsx)(at.b,{exact:!0,path:"/logout",component:Ne}),Object(n.jsx)(at.b,{component:nt.a})]});return Object(n.jsxs)("div",{className:G.a.root,children:[Object(n.jsx)(v,{drawerOpenhandler:this.onDrawerOpenHandler}),Object(n.jsx)(K,{DrawerOpen:this.state.isDrawerOpen,drawerCloseHandler:this.onDrawerCloseHandler}),Object(n.jsx)($.a,{extraStyles:{minHeight:"86vh",background:"#475be3"},elevation:3,children:e})]})}}]),a}(i.Component);t.default=st}}]);
//# sourceMappingURL=4.64567afe.chunk.js.map